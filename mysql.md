```
INSERT INTO table_name (列1, 列2,...) VALUES (值1, 值2,....)
INSERT INTO `s1`(s1.`id`,s1.`name`,s1.`gender`,s1.`email`) VALUES ('1','陈西茜','101','chenxixi@qq.com');

SELECT 列名称 FROM 表名称
SELECT * FROM `s1`;

UPDATE 表名称 SET 列名称 = 新值 WHERE 列名称 = 某值
UPDATE `s1` SET s1.`name` = '陈希兮' WHERE s1.`id` = '1';

DELETE FROM 表名称 WHERE 列名称 = 值
DELETE FROM `s1` WHERE `s1`.`id` = '1';
```



## 数据库的相关概念

DB： 数据库(DataBase)

DBMS：数据库管理系统(DataBase Management System)

SQL：结构化查询语言(Structured Query Language)



## 执行流程

连接器、分析器、优化器、执行器、调用引擎接口



## RDBMS 和 非RDBMS

关系型数据库(RDBMS) ：将复杂的数据结构归结为简单的二元关系

​	主要以行 (row) 和 列 (column) 的形式存储数据，以便于理解。一系列的行和列组成为表(table) 一组表组成了一个库（database）



## 如果mysql的自增Id用完了

可以从设置主键Id和不设置主键Id两个角度来说

设置主键的话,满了会报主键冲突。

不设置主键的话,InnoDB会自动帮我们创建一个不可见的、长度为6字节的 'row_id' 最大可以达到**2的48幂次-1**,如果满了就会重新从1开始插入数据,之前的数据就会覆盖掉。

最好的回答：一个表数据不可能达到那么多，分库分表，分布式环境下要注意主键生成问题，做到主键唯一（如snow flake算法）



## 说说MySQL 事务的实现原理

特点：

​	原子性、一致性、隔离性、持久性



### 事务想要做到什么效果？

​	按我理解，无非是要做到**可靠性**以及**并发处理**

​	可靠性：数据库要保证当insert或update操作时抛异常或者数据库crash的时候需要保障数据的操作前后的一致，想要做到这个，我需要知道我修改之前和修改之后的状态，所以就有了undo log和redo log。

​	并发处理：也就是说当多个并发请求过来，并且其中有一个请求是对数据修改操作的时候会有影响，为了避免读到脏数据，所以需要对事务之间的读写进行隔离，至于隔离到啥程度得看业务系统的场景了，实现这个就得用MySQL 的隔离级别。



### 实现事务功能的三个技术

​	分别是日志文件(redo log 和 undo log)，锁技术以及MVCC



## mysql优化

1.数据库服务器的内核优化

2.my.conf配置，搭配压力测试进行调试

3.sql语句调优

​	1.使用缓存优化查询(进行多次相同的查询，结果就会放入缓存中，后续再进行相同的查询，直接从缓存中提取，不会到表中提取)

​	2.explain检测SQL查询（explain select ...）

​	3.给搜索字段建立索引 where 后面的字段建立索引（集聚索引和非积聚索引的查询原理）大数据量的查询不适合建立索引

​		空间代价：索引对应的数据结构需要占据一定的磁盘空间

​		时间代价：一旦修改、插入或删除该表数据时，数据库系统就会重新修改该表的索引内容

​	4.limit 1（明确只有一行数据的时候）

​	5.永久链接（在一些极端的环境中，apache会发出http请求，创建子进程去请求数据库）

​	6.选择正确的数据库引擎 myISAM	InnoDB

​	7.在进行大量delete	insert拆分

​	8.数据类型 尽量使用小的。因为数据是存在硬盘上的，数据量小可以节约硬盘空间、读取数据的速度

​	9.固定字段长度。这样做是在数据库计算偏移量时，非常轻松，

​	10.尽量不要给null，建议使用 ' '

​	11.明确的固定的字段上使用enum（性别、国家、市）不要使用varchar

​	12.避免使用select * (查询越多，速度就越慢，数据越多对网络的传输也会负载过重)

​	13.rand() 计算是在cpu上面进行的

​	14.id主键每张表都要建立 集群 分区

​	15.连接两表的时候，join	尽量保持两个字段的类型一致

​	16.垂直分割	将表按列的形式分割成表

## mysql索引

https://www.cnblogs.com/bypp/p/7755307.html

索引（Index）是帮助MySQL高效获取数据的数据结构。可以得到索引的本质：索引是数据结构

数据本身之外，数据库还维护着一个满足特定查找算法的数据结构，这些数据结构以某种方式指向数据，这样就可以在这些数据结构的基础上实现高级查找算法，这种数据结构就是索引。

**索引原理**

索引的目的在于提高查询效率，与我们查阅图书所用的目录是一个道理：先定位到章，然后定位到该章下的一个小节，然后找到页数。相似的例子还有：查字典，查火车车次，飞机航班等

**索引分类**

1.普通索引index :加速查找
2.唯一索引
    主键索引：primary key ：加速查找+约束（不为空且唯一）
    唯一索引：unique：加速查找+约束 （唯一）
3.联合索引

​	-primary key(id,name):联合主键索引
​    -unique(id,name):联合唯一索引
​    -index(id,name):联合普通索引
4.全文索引fulltext :用于搜索很长一篇文章的时候，效果最好。
5.空间索引spatial :了解就好，几乎不用